---
# Source: prometheus-operator/charts/grafana/templates/dashboards-json-configmap.yaml


apiVersion: v1
kind: ConfigMap
metadata:
  name: monitoring-grafana-dashboards-kubeapislo
  namespace: monitoring
  labels:
    app: grafana
    chart: grafana-3.12.1
    release: monitoring
    heritage: Tiller
    dashboard-provider: kubeapislo
data:
  kubeapi-slo.json:
    |
      {
      "__inputs": [ ],
      "__requires": [ ],
      "annotations": {
          "list": [ ]
      },
      "editable": false,
      "gnetId": null,
      "graphTooltip": 0,
      "hideControls": false,
      "id": null,
      "links": [ ],
      "refresh": "5m",
      "rows": [
          {
              "collapse": false,
              "collapsed": false,
              "height": "250px",
              "panels": [
                  {
                  "cacheTimeout": null,
                  "colorBackground": false,
                  "colorValue": false,
                  "colors": [
                      "#299c46",
                      "rgba(237, 129, 40, 0.89)",
                      "#d44a3a"
                  ],
                  "datasource": "$datasource",
                  "format": "percentunit",
                  "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                  },
                  "id": 2,
                  "interval": null,
                  "legend": {
                      "rightSide": false
                  },
                  "links": [ ],
                  "mappingType": 1,
                  "mappingTypes": [
                      {
                          "name": "value to text",
                          "value": 1
                      },
                      {
                          "name": "range to text",
                          "value": 2
                      }
                  ],
                  "maxDataPoints": 100,
                  "nullPointMode": "connected",
                  "nullText": null,
                  "postfix": "",
                  "postfixFontSize": "50%",
                  "prefix": "",
                  "prefixFontSize": "50%",
                  "rangeMaps": [
                      {
                          "from": "null",
                          "text": "N/A",
                          "to": "null"
                      }
                  ],
                  "span": 2,
                  "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                  },
                  "tableColumn": "",
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "sum_over_time(kubernetes::job:slo_kube_api_ok[$availability_span]) / sum_over_time(kubernetes::job:slo_kube_api_sample[$availability_span])\n",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ job }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": "0.99",
                  "title": "Availability over $availability_span",
                  "type": "singlestat",
                  "valueFontSize": "80%",
                  "valueMaps": [
                      {
                          "op": "=",
                          "text": "N/A",
                          "value": "null"
                      }
                  ],
                  "valueName": "current"
                  },
                  {
                  "cacheTimeout": null,
                  "colorBackground": false,
                  "colorValue": false,
                  "colors": [
                      "#299c46",
                      "rgba(237, 129, 40, 0.89)",
                      "#d44a3a"
                  ],
                  "datasource": "$datasource",
                  "decimals": 2,
                  "format": "s",
                  "gauge": {
                      "maxValue": 100,
                      "minValue": 0,
                      "show": false,
                      "thresholdLabels": false,
                      "thresholdMarkers": true
                  },
                  "id": 3,
                  "interval": null,
                  "legend": {
                      "rightSide": false
                  },
                  "links": [ ],
                  "mappingType": 1,
                  "mappingTypes": [
                      {
                          "name": "value to text",
                          "value": 1
                      },
                      {
                          "name": "range to text",
                          "value": 2
                      }
                  ],
                  "maxDataPoints": 100,
                  "nullPointMode": "connected",
                  "nullText": null,
                  "postfix": "",
                  "postfixFontSize": "50%",
                  "prefix": "",
                  "prefixFontSize": "50%",
                  "rangeMaps": [
                      {
                          "from": "null",
                          "text": "N/A",
                          "to": "null"
                      }
                  ],
                  "span": 2,
                  "sparkline": {
                      "fillColor": "rgba(31, 118, 189, 0.18)",
                      "full": false,
                      "lineColor": "rgb(31, 120, 193)",
                      "show": false
                  },
                  "tableColumn": "",
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "scalar((sum_over_time(kubernetes::job:slo_kube_api_ok[$availability_span]) / sum_over_time(kubernetes::job:slo_kube_api_sample[$availability_span]) - 0.98999999999999999)) * \n  scalar((time() - timestamp(up{job=\"prometheus\"} offset $availability_span)))\n",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ job }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": "0.99",
                  "title": "Budget remaining from $availability_span",
                  "type": "singlestat",
                  "valueFontSize": "80%",
                  "valueMaps": [
                      {
                          "op": "=",
                          "text": "N/A",
                          "value": "null"
                      }
                  ],
                  "valueName": "current"
                  },
                  {
                  "aliasColors": { },
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "fill": 1,
                  "id": 4,
                  "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": true,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sort": "max",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [ ],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "repeat": null,
                  "seriesOverrides": [ ],
                  "spaceLength": 10,
                  "span": 2,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "sum_over_time(kubernetes::job:slo_kube_api_ok[10m]) / sum_over_time(kubernetes::job:slo_kube_api_sample[10m])\n",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ job }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": [
                      {
                          "colorMode": "critical",
                          "fill": true,
                          "line": true,
                          "op": "gt",
                          "value": "0.99"
                      }
                  ],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "SLO: Availaibility over 10m",
                  "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                  },
                  "yaxes": [
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      },
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      }
                  ]
                  },
                  {
                  "aliasColors": { },
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "fill": 1,
                  "id": 5,
                  "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": true,
                      "min": false,
                      "rightSide": false,
                      "show": true,
                      "sort": "max",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [ ],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "repeat": null,
                  "seriesOverrides": [ ],
                  "spaceLength": 10,
                  "span": 6,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "sum by (job, verb, code, instance)(kubernetes:job_verb_code_instance:apiserver_requests:ratio_rate5m{verb!~\"CONNECT|WATCH|PROXY\", code!~\"2..\"})",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ verb }} - {{ code }} - {{ instance }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": [
                      {
                          "colorMode": "critical",
                          "fill": true,
                          "line": true,
                          "op": "gt",
                          "value": 0.01
                      }
                  ],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "API non-200s/total ratio (except CONNECT|WATCH|PROXY)",
                  "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                  },
                  "yaxes": [
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      },
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      }
                  ]
                  },
                  {
                  "aliasColors": { },
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "fill": 1,
                  "id": 6,
                  "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "max",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [ ],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "repeat": null,
                  "seriesOverrides": [ ],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "kubernetes::job_verb_code:apiserver_requests:ratio_rate5m",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ verb }} - {{ code }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": [
                      {
                          "colorMode": "critical",
                          "fill": true,
                          "line": true,
                          "op": "gt",
                          "value": 1000000000
                      }
                  ],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "API requests ratios",
                  "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                  },
                  "yaxes": [
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      },
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      }
                  ]
                  },
                  {
                  "aliasColors": { },
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "fill": 1,
                  "id": 7,
                  "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "max",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [ ],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "repeat": null,
                  "seriesOverrides": [ ],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "kubernetes:job_verb_instance:apiserver_latency:pctl90rate5m{verb!~\"CONNECT|WATCH|PROXY\"}",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ verb }} - {{ instance }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": [
                      {
                          "colorMode": "critical",
                          "fill": true,
                          "line": true,
                          "op": "gt",
                          "value": 200
                      }
                  ],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "API $api_percentile-th latency[ms] by verb (except CONNECT|WATCH|PROXY)",
                  "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                  },
                  "yaxes": [
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      },
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      }
                  ]
                  }
              ],
              "repeat": null,
              "repeatIteration": null,
              "repeatRowId": null,
              "showTitle": true,
              "title": "Kube API",
              "titleSize": "h6",
              "type": "row"
          },
          {
              "collapse": false,
              "collapsed": false,
              "height": "250px",
              "panels": [
                  {
                  "aliasColors": { },
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "fill": 1,
                  "id": 8,
                  "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "max",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [ ],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "repeat": null,
                  "seriesOverrides": [ ],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "sum by (instance)(\n  APIServiceRegistrationController_work_duration{quantile=\"0.9\"}\n)\n",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ instance }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": [
                      {
                          "colorMode": "critical",
                          "fill": true,
                          "line": true,
                          "op": "gt",
                          "value": 100
                      }
                  ],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Kube Control Manager work duration",
                  "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                  },
                  "yaxes": [
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      },
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      }
                  ]
                  }
              ],
              "repeat": null,
              "repeatIteration": null,
              "repeatRowId": null,
              "showTitle": true,
              "title": "Kube Control Manager",
              "titleSize": "h6",
              "type": "row"
          },
          {
              "collapse": false,
              "collapsed": false,
              "height": "250px",
              "panels": [
                  {
                  "aliasColors": { },
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "fill": 1,
                  "id": 9,
                  "legend": {
                      "alignAsTable": true,
                      "avg": true,
                      "current": true,
                      "max": true,
                      "min": false,
                      "rightSide": true,
                      "show": true,
                      "sort": "max",
                      "sortDesc": true,
                      "total": false,
                      "values": true
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [ ],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "repeat": null,
                  "seriesOverrides": [ ],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                      {
                          "datasource": "$datasource",
                          "expr": "max by (operation, instance)(\n  etcd_request_latencies_summary{job=\"kubernetes_apiservers\",quantile=\"0.9\"}\n)/ 1e3\n",
                          "format": "time_series",
                          "intervalFactor": 2,
                          "legendFormat": "{{ instance }} - {{ operation }}",
                          "refId": "A"
                      }
                  ],
                  "thresholds": [
                      {
                          "colorMode": "critical",
                          "fill": true,
                          "line": true,
                          "op": "gt",
                          "value": 2000
                      }
                  ],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "etcd 90th latency[ms] by (operation, instance)",
                  "tooltip": {
                      "shared": true,
                      "sort": 0,
                      "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                      "buckets": null,
                      "mode": "time",
                      "name": null,
                      "show": true,
                      "values": [ ]
                  },
                  "yaxes": [
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      },
                      {
                          "format": "short",
                          "label": null,
                          "logBase": 1,
                          "max": null,
                          "min": null,
                          "show": true
                      }
                  ]
                  }
              ],
              "repeat": null,
              "repeatIteration": null,
              "repeatRowId": null,
              "showTitle": true,
              "title": "Kube Etcd",
              "titleSize": "h6",
              "type": "row"
          }
      ],
      "schemaVersion": 14,
      "style": "dark",
      "tags": [
          "k8s",
          "api",
          "sla"
      ],
      "templating": {
          "list": [
              {
                  "current": {
                  "text": "Prometheus",
                  "value": "Prometheus"
                  },
                  "hide": 0,
                  "label": null,
                  "name": "datasource",
                  "options": [ ],
                  "query": "prometheus",
                  "refresh": 1,
                  "regex": "",
                  "type": "datasource"
              },
              {
                  "allValue": null,
                  "current": {
                  "text": "90",
                  "value": "90"
                  },
                  "hide": 0,
                  "includeAll": false,
                  "label": "",
                  "multi": false,
                  "name": "api_percentile",
                  "options": [
                  {
                      "text": "50",
                      "value": "50"
                  },
                  {
                      "text": " 90",
                      "value": " 90"
                  },
                  {
                      "text": " 99",
                      "value": " 99"
                  }
                  ],
                  "query": "50, 90, 99",
                  "refresh": 0,
                  "type": "custom"
              },
              {
                  "allValue": null,
                  "current": {
                  "text": "7d",
                  "value": "7d"
                  },
                  "hide": 0,
                  "includeAll": false,
                  "label": "",
                  "multi": false,
                  "name": "availability_span",
                  "options": [
                  {
                      "text": "10m",
                      "value": "10m"
                  },
                  {
                      "text": "1h",
                      "value": "1h"
                  },
                  {
                      "text": "1d",
                      "value": "1d"
                  },
                  {
                      "text": "7d",
                      "value": "7d"
                  },
                  {
                      "text": "21d",
                      "value": "21d"
                  },
                  {
                      "text": "30d",
                      "value": "30d"
                  },
                  {
                      "text": "90d",
                      "value": "90d"
                  }
                  ],
                  "query": "10m,1h,1d,7d,21d,30d,90d",
                  "refresh": 0,
                  "type": "custom"
              },
              {
                  "allValue": null,
                  "current": {
                  "text": "CONNECT|WATCH|PROXY",
                  "value": "CONNECT|WATCH|PROXY"
                  },
                  "hide": 2,
                  "includeAll": false,
                  "label": "",
                  "multi": false,
                  "name": "verb_excl",
                  "options": [
                  {
                      "text": "CONNECT|WATCH|PROXY",
                      "value": "CONNECT|WATCH|PROXY"
                  }
                  ],
                  "query": "CONNECT|WATCH|PROXY",
                  "refresh": 0,
                  "type": "custom"
              }
          ]
      },
      "time": {
          "from": "now-3h",
          "to": "now"
      },
      "timepicker": {
          "refresh_intervals": [
              "5s",
              "10s",
              "30s",
              "1m",
              "5m",
              "15m",
              "30m",
              "1h",
              "2h",
              "1d"
          ],
          "time_options": [
              "5m",
              "15m",
              "1h",
              "6h",
              "12h",
              "24h",
              "2d",
              "7d",
              "30d"
          ]
      },
      "timezone": "browser",
      "title": "SLO: Kubernetes API",
      "version": 0
      }
    
apiVersion: v1
kind: ConfigMap
metadata:
  name: monitoring-grafana-dashboards-pkscontrolplane
  namespace: monitoring
  labels:
    app: grafana
    chart: grafana-3.12.1
    release: monitoring
    heritage: Tiller
    dashboard-provider: pkscontrolplane
data:
  pks-control-plane.json:
    |-
      {
        "__inputs": [],
        "__requires": [
          {
            "type": "panel",
            "id": "gauge",
            "name": "Gauge",
            "version": ""
          },
          {
            "type": "grafana",
            "id": "grafana",
            "name": "Grafana",
            "version": "6.2.5"
          },
          {
            "type": "panel",
            "id": "graph",
            "name": "Graph",
            "version": ""
          },
          {
            "type": "panel",
            "id": "singlestat",
            "name": "Singlestat",
            "version": ""
          }
        ],
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": "-- Grafana --",
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "description": "This dashboard is designed for monitoring the PKS control plane using Reliability View for PCF. ",
        "editable": true,
        "gnetId": 10244,
        "graphTooltip": 0,
        "id": null,
        "links": [],
        "panels": [
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 0
            },
            "id": 24,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "options": {},
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(bosh_job_healthy{bosh_job_name=\"master\"})\n",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 1,
                "refId": "A"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Total Healthy Master Nodes",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 14,
              "w": 12,
              "x": 12,
              "y": 0
            },
            "id": 14,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {},
            "percentage": false,
            "pluginVersion": "6.1.5",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "expr": "(bosh_job_healthy)\n\n",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "{{bosh_job_name}} {{instance}}",
                "refId": "A"
              },
              {
                "expr": "",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Healthy Jobs",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 7
            },
            "id": 16,
            "interval": null,
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "options": {},
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": true
            },
            "tableColumn": "",
            "targets": [
              {
                "expr": "sum(bosh_job_healthy{bosh_job_name=\"worker\"})",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "A"
              },
              {
                "expr": "",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": "",
            "timeFrom": null,
            "timeShift": null,
            "title": "Total Healthy Workers",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "cacheTimeout": null,
            "gridPos": {
              "h": 5,
              "w": 24,
              "x": 0,
              "y": 14
            },
            "id": 12,
            "links": [],
            "options": {
              "fieldOptions": {
                "calcs": [
                  "max"
                ],
                "defaults": {
                  "decimals": null,
                  "max": 100,
                  "min": 0,
                  "unit": "none"
                },
                "mappings": [
                  {
                    "from": "",
                    "id": 1,
                    "operator": "",
                    "text": "lskdajf",
                    "to": "",
                    "type": 1,
                    "value": "{{instance}}"
                  }
                ],
                "thresholds": [
                  {
                    "color": "green",
                    "index": 0,
                    "value": null
                  },
                  {
                    "color": "red",
                    "index": 2,
                    "value": 80
                  },
                  {
                    "color": "#EAB839",
                    "index": 1,
                    "value": 50
                  }
                ]
              },
              "orientation": "auto",
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "6.2.5",
            "targets": [
              {
                "expr": "bosh_job_mem_percent{bosh_job_name=\"master\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "",
                "refId": "A"
              },
              {
                "expr": "",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "B"
              },
              {
                "expr": "",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "C"
              }
            ],
            "timeFrom": null,
            "timeShift": null,
            "title": "Master Node Memory Consumption",
            "type": "gauge"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 19
            },
            "id": 18,
            "legend": {
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {},
            "percentage": false,
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "bosh_job_mem_percent{bosh_job_name=\"master\"}",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "{{instance}}",
                "refId": "A"
              },
              {
                "expr": "",
                "format": "time_series",
                "intervalFactor": 1,
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Master Node Memory Availability",
            "tooltip": {
              "shared": false,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 26
            },
            "id": 6,
            "title": "Row title",
            "type": "row"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "fill": 1,
            "gridPos": {
              "h": 6,
              "w": 24,
              "x": 0,
              "y": 27
            },
            "id": 10,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": false
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "nullPointMode": "null",
            "options": {},
            "percentage": false,
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "expr": "bosh_job_cpu_user{bosh_job_name=\"pivotal-container-service\"}",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "CPU %",
                "refId": "A"
              },
              {
                "expr": "bosh_job_mem_percent{bosh_job_name=\"pivotal-container-service\"}\n",
                "format": "time_series",
                "intervalFactor": 1,
                "legendFormat": "Memory %",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "PKS API Memory and CPU",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "schemaVersion": 18,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-6h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "",
        "title": "PKS Control Plane",
        "uid": "_UhzTaZWk",
        "version": 1
      }
    
---
